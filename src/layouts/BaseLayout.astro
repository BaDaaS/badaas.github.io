---
import "../styles/global.css";
import IconTwitter from "../components/icons/IconTwitter.astro";
import IconLinkedIn from "../components/icons/IconLinkedIn.astro";
import IconGitHub from "../components/icons/IconGitHub.astro";
import ThemeSelector from "../components/ThemeSelector.astro";
import Logo from "../components/Logo.astro";

interface Props {
  title: string;
  description?: string;
}

const { title, description = "Applied Mathematics & Cryptography Lab" } =
  Astro.props;
const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <meta name="author" content="BaDaaS" />
    <link rel="icon" href="/res/badaas-icon-dark-bg.svg" type="image/svg+xml" />
    <title>{title}</title>

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={Astro.url} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content="/res/badaas-icon-dark-bg.svg" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={Astro.url} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content="/res/badaas-icon-dark-bg.svg" />
  </head>
  <body>
    <nav
      class="border-border bg-bg fixed inset-x-0 top-0 z-[100] flex items-center justify-between border-b px-5 py-4 md:px-10 md:py-5"
    >
      <a href="/" class="text-2xl font-bold"><Logo /></a>
      <div class="flex items-center gap-4 md:gap-8">
        <a
          href="/#services"
          class="text-text-muted hover:text-accent text-sm transition-colors"
          class:list={{ active: currentPath === "/" }}>What we do</a
        >
        <a
          href="/#portfolio"
          class="text-text-muted hover:text-accent text-sm transition-colors"
          >Trusted By</a
        >
        <a
          href="/blog"
          class="text-text-muted hover:text-accent text-sm transition-colors"
          class:list={{ active: currentPath.startsWith("/blog") }}>Blog</a
        >
        <a
          href="https://calendly.com/be-danny-willems/30min"
          class="bg-accent text-bg px-5 py-2 text-sm font-semibold transition-all hover:-translate-y-0.5 hover:opacity-90"
          >Book a call</a
        >
      </div>
    </nav>

    <slot />

    <footer class="border-border bg-bg-secondary border-t px-5 pt-16 pb-8">
      <div
        class="max-w-container mx-auto grid grid-cols-1 gap-10 md:grid-cols-[1fr_2fr] md:gap-16"
      >
        <div class="flex flex-col gap-4">
          <a href="/" class="text-2xl font-bold"><Logo /></a>
          <p class="text-text-muted max-w-[280px] text-sm">
            We use abstract mathematics to build concrete applications.
          </p>
          <div class="flex gap-4">
            <a
              href="https://twitter.com/be_badaas"
              aria-label="Twitter"
              class="text-icon hover:text-icon-hover transition-colors"
            >
              <IconTwitter />
            </a>
            <a
              href="https://linkedin.com/company/bebadaas"
              aria-label="LinkedIn"
              class="text-icon hover:text-icon-hover transition-colors"
            >
              <IconLinkedIn />
            </a>
            <a
              href="https://github.com/BaDaaS"
              aria-label="GitHub"
              class="text-icon hover:text-icon-hover transition-colors"
            >
              <IconGitHub />
            </a>
          </div>
        </div>

        <div class="grid grid-cols-2 gap-8 sm:grid-cols-4">
          <div class="flex flex-col gap-2.5">
            <h4 class="text-accent mb-1 text-sm">What we do</h4>
            <a
              href="/#services"
              class="text-text-muted hover:text-accent text-sm transition-colors"
              >Audits</a
            >
            <a
              href="/#services"
              class="text-text-muted hover:text-accent text-sm transition-colors"
              >Research</a
            >
            <a
              href="/#services"
              class="text-text-muted hover:text-accent text-sm transition-colors"
              >Development</a
            >
            <a
              href="/#services"
              class="text-text-muted hover:text-accent text-sm transition-colors"
              >Consulting</a
            >
          </div>

          <div class="flex flex-col gap-2.5">
            <h4 class="text-accent mb-1 text-sm">Resources</h4>
            <a
              href="/blog"
              class="text-text-muted hover:text-accent text-sm transition-colors"
              >Blog</a
            >
            <a
              href="https://cryptography.academy"
              target="_blank"
              class="text-text-muted hover:text-accent text-sm transition-colors"
              >Cryptography Academy</a
            >
          </div>

          <div class="flex flex-col gap-2.5">
            <h4 class="text-accent mb-1 text-sm">Company</h4>
            <a
              href="/#portfolio"
              class="text-text-muted hover:text-accent text-sm transition-colors"
              >Trusted By</a
            >
          </div>

          <div class="flex flex-col gap-2.5">
            <h4 class="text-accent mb-1 text-sm">Contact</h4>
            <a
              href="mailto:contact@badaas.be"
              class="text-text-muted hover:text-accent text-sm transition-colors"
              >contact@badaas.be</a
            >
            <p class="text-text-muted text-sm">Belgium</p>
          </div>
        </div>
      </div>

      <div
        class="max-w-container border-border mx-auto mt-10 border-t pt-5 text-center"
      >
        <p class="text-text-muted text-xs">
          &copy; {new Date().getFullYear()}
          <Logo />. All rights reserved.
        </p>
      </div>
    </footer>

    <ThemeSelector />
  </body>
</html>
